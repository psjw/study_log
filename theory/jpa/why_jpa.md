#  ğŸ§  JPA  - ì‚¬ìš©ì´ìœ 

### âœ… í•µì‹¬ ê°œë… ìš”ì•½
- SQL ê²°ê³¼ì— ë”°ë¼ ê°ì²´ì˜ ì¡´ì¬ ì—¬ë¶€ê°€ ê²°ì •ë˜ë¯€ë¡œ, ê°ì²´ë¥¼ ì‹ ë¢°í•˜ê¸° ì–´ë ¤ìš´ êµ¬ì¡°ì—ì„œ ë²—ì–´ë‚˜ê¸° ì–´ë µë‹¤ (SQL ì¤‘ì‹¬ ê°œë°œ ë°©ì‹)
- ê°ì²´ì§€í–¥ê³¼ ê´€ê³„í˜• DB ê°„ì˜ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ (ìƒì†, ì—°ê´€ê´€ê³„, ê°ì²´ê·¸ë˜í”„ íƒìƒ‰ ë“±)
- 1ì°¨ìºì‹œ, ì“°ê¸°ì§€ì—°, ì§€ì—°ë¡œë”© ë“±ìœ¼ë¡œ ì„±ëŠ¥ìµœì í™”
- ìœ ì§€ë³´ìˆ˜ì„± ì¦ê°€


### ğŸ” ìƒì„¸ ê°œë… ì •ë¦¬
| ê°œë… í•­ëª©       | ì„¤ëª…                                                                |
|----------------|---------------------------------------------------------------------|
| ê°ì²´ ì‹ ë¢° ë¬¸ì œ   | ê°ì²´ë¥¼ ì‹ ë¢°í•˜ì§€ ëª»í•˜ê³  í•­ìƒ SQLë¡œ ê²€ì¦í•´ì•¼ í•˜ëŠ” êµ¬ì¡° (ex. join, null í™•ì¸ ë“±)                       |
| íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ | ê°ì²´ì˜ ìƒì†ê´€ê³„, ì—°ê´€ê´€ê³„, ê°ì²´ê·¸ë˜í”„ íƒìƒ‰ ë“±ì´ ê´€ê³„í˜• DBì™€ ë§ì§€ ì•Šì•„ JPAê°€ ì´ë¥¼  ë³´ì¥  |
| ì„±ëŠ¥ìµœì í™”   | 1ì°¨ ìºì‹œë¥¼ í†µí•œ ì¤‘ë³µ ì¡°íšŒ ì œê±°, ì“°ê¸° ì§€ì—° ì €ì¥ì†Œë¡œ ì»¤ë°‹ ì‹œì ì— ì¼ê´„ SQL ì „ì†¡, ì§€ì—° ë¡œë”©ì„ í†µí•´ í•„ìš”í•œ ì‹œì ì— DB ì ‘ê·¼  |
| JPAì˜ ì¥ì       | ìƒì‚°ì„±, ìœ ì§€ë³´ìˆ˜, íŒ¨ëŸ¬ë‹¤ì„ ì¼ì¹˜, ì„±ëŠ¥ ìµœì í™”, ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”, ë²¤ë” ë…ë¦½ì„±, í‘œì¤€ API ì‚¬ìš© |

### ğŸ’» ì‹¤ìŠµ ì˜ˆì‹œ ì½”ë“œ

```java
//ìœ ì§€ë³´ìˆ˜
Member member = new Member("A");
jpa.persist(member);//ì €ì¥
Member member = jpa.find(Member.class, memberId); //ì¡°íšŒ
member.setName("ì´ë¦„ë³€ê²½"); //ìˆ˜ì •
jpa.remove(member); //ì‚­ì œ

/*
    ìƒì† Album -> Item
   JPAê°€ ì²˜ë¦¬
   Insert into item ...
   Insert into Album ...
 */
jpa.persist(album); 

//ì—°ê´€ê´€ê³„ ì €ì¥
Team  team = new Team("Ateam");
Member member = new Member("A");
member.setTeam(team);
jpa.persist(member);

//ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ & ì‹ ë¢°í• ìˆ˜ ìˆëŠ” ì—”í‹°í‹°
Member member = jpa.find(Member.class, memberId); //1ì°¨ ìºì‹œ or DBì—ì„œ ì¡°íšŒ
Team team = member.getTeam(); // ì§€ì—° ë¡œë”© ì‹œ, ì‹¤ì œ ì¡°íšŒ ë°œìƒ. í•­ìƒ ê°’ì„ ì‹ ë¢°í•  ìˆ˜ ìˆìŒ

//ë™ë“±ì„± & 1ì°¨ìºì‹œ 
Long memberId = 11;
Member member1 = jpa.find(Member.class, memberId); //SQL ì¡°íšŒ
Member member2 = jpa.find(Member.class, memberId); //1ì°¨ìºì‹œ ì¡°íšŒ
member1 == member2; //true ê°™ìŒ 

//ì“°ê¸° ì§€ì—° - commit ì‹œì ì— insert/update ì¿¼ë¦¬ ì‹¤í–‰ë¨
transaction.commit();

```



### ğŸ” íšŒê³ 
- ê¸°ì¡´ MyBatis ê¸°ë°˜ì—ì„œëŠ” ì°¸ì¡° ê°ì²´ì— ëŒ€í•œ ì¡°íšŒì™€ í•„ë“œë¥¼ ëª¨ë‘ SQLì„ í™•ì¸ì´ í•„ìš”í•˜ì§€ë§Œ JPAëŠ” ëª¨ë“  ê°’ì´ ì¡´ì¬í•¨ì„ ë³´ì¥
- ë‹¤ë§Œ JPAëŠ” SQLì„ í•  ìˆ˜ ìˆìœ¼ë©´ ê±°ì˜ ëŒ€ë¶€ë¶„ í™œìš© ê°€ëŠ¥í•œ MyBatisë³´ë‹¤ëŠ” ì§„ì…ì¥ë²½ì´ ì¡°ê¸ˆ ì¡´ì¬
- ì—°ê´€ê´€ê³„ë¥¼ í‘œí˜„í•¨ì— ìˆì–´ ê°ì²´ì™€ DBê°€ ê±°ì˜ ë™ì¼í•œ ê´€ê³„ê°€ ì„±ë¦½í•¨
