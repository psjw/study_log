#  🧠 알고리즘  - 벨만-포드 (Bellman-Ford)

## ✅ 핵심 개념 요약

- **벨만-포드 알고리즘**은 **음수 가중치가 존재하는 그래프**에서도 **최단 거리**를 계산할 수 있는 알고리즘
- **음수 사이클 존재 여부도 판별**할 수 있음
- 간선 기반으로 모든 엣지를 `V - 1`번 반복하여 최단 거리를 갱신

---

## 🔎 상세 개념 정리

| 항목 | 설명 |
|------|------|
| **초기화** | 출발 노드의 거리만 0, 나머지는 무한대(∞)로 설정 |
| **업데이트 방식** | 모든 간선을 탐색하며 `D[end] > D[start] + weight`이면 갱신 |
| **반복 횟수** | 총 `V - 1`회 (V: 노드 수) |
| **사이클 판별** | V번째 반복에서 값이 갱신되면 음수 사이클 존재 |
| **시간 복잡도** | O(VE) - V: 노드 수, E: 엣지 수 |
| **그래프 표현** | 간선 리스트(Edge List) 사용 (start, end, weight) |

---


## 🧠 벨만-포드 알고리즘 동작 흐름

1. **엣지 리스트 기반으로 그래프 구성**
2. **거리 배열 D[] 초기화** (출발 노드 0, 나머지 ∞)
3. **V - 1번 모든 간선을 순회하며 거리 배열 업데이트**
4. **V번째 루프에서 거리 배열이 다시 갱신되면 → 음수 사이클 존재**

---

## 🧪 예시 시각화

### 📌 엣지 리스트

| 번호 | 출발 노드 | 종료 노드 | 가중치 |
|------|------------|------------|---------|
| 1    | 1          | 2          | 8       |
| 2    | 2          | 5          | 5       |
| 3    | 1          | 3          | 3       |
| 4    | 3          | 4          | 7       |
| 5    | 4          | 2          | -4      |
| 6    | 5          | 4          | -2      |


### 📌 거리 배열 초기화

| 노드 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| D[]  | 0 | ∞ | ∞ | ∞ | ∞ |



### 📌 각 단계별 거리 배열 (최대 5개의 노드 → 4번 반복)

#### ▶ 1회차

- 1 → 2 (8) → D[2] = 8  
- 1 → 3 (3) → D[3] = 3

| 노드 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| D[]  | 0 | 8 | 3 | ∞ | ∞ |


#### ▶ 2회차

- 2 → 5 (5) → D[5] = 8 + 5 = 13  
- 3 → 4 (7) → D[4] = 3 + 7 = 10

| 노드 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| D[]  | 0 | 8 | 3 | 10 | 13 |

#### ▶ 3회차

- 4 → 2 (-4) → D[2] = min(8, 10 - 4) = 6  
- 5 → 4 (-2) → D[4] = min(10, 13 - 2) = 11

| 노드 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| D[]  | 0 | 6 | 3 | 10 | 13 |


#### ▶ 4회차

- 4 → 2 (-4) → D[2] = min(6, 10 - 4) = 6 (갱신 X)  
- 5 → 4 (-2) → D[4] = min(10, 13 - 2) = 11 (갱신 X)

| 노드 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| D[]  | 0 | 6 | 3 | 10 | 13 |

### 📌 5회차 (음수 사이클 확인용)

| ⏱ 엣지 반복 횟수 | D[1] | D[2] | D[3] | D[4] | D[5] |
|------------------|------|------|------|------|------|
| 초기값           | 0    | ∞    | ∞    | ∞    | ∞    |
| 1회차            | 0    | 8    | 3    | ∞    | ∞    |
| 2회차            | 0    | 8    | 3    | 10   | 13   |
| 3회차            | 0    | 6    | 3    | 10   | 13   |
| 4회차            | 0    | 6    | 3    | 10   | 11   |
| **5회차**        | 0    | 6    | 3    | **9** | 11   |

> 🔴 **5회차에서 D[4]가 10 → 9로 갱신됨 → 음수 사이클 존재**




### 📌 사이클 분석

- 사이클 경로: 2 → 5 → 4 → 2  
- 가중치 합: 5 + (-2) + (-4) = **-1**

→ 이 경로를 반복할수록 거리가 계속 줄어듦 → **음수 사이클**

---

## 🔁 회고
- 벨만-포드는 **음수 간선이 있을 수 있는 유일한 안전한 최단 거리 알고리즘**
- **음수 사이클 탐지 기능이 핵심**이며, 단순 최단 거리 이상으로도 응용 가능 (예: 금융 시스템, 환율 차익 탐지 등)
- 다익스트라와 달리 우선순위 큐 없이도 구현이 가능하지만, **시간 복잡도는 상대적으로 느림 (O(VE))**

---
